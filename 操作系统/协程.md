# 协程
## 为什么需要协程
因为线程直接的切换需要内核中的TCB(Thread Control Block)来改变状态。

需要用户态到内核态的转换。

当设计多线程并发的时候，会涉及到同步锁、线程切换等操作，效率低。

## 协程是什么

比线程更轻量级的存在，一个线程有多个协程。

==最重要的是，协程不是被操作系统内核所管理，而完全是由程序所控制（也就是在用户态执行）。==

协程暂停和线程的阻塞是有本质区别的。协程的暂停完全由程序控制，线程的阻塞状态是由操作系统内核来进行切换。

==协程并没有增加线程数量，只是在线程的基础之上通过分时复用的方式运行多个协程，而且协程的切换在用户态完成，切换的代价比线程从用户态到内核态的代价小很多。==
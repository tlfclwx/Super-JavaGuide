# 页面置换算法

当通过虚拟地址映射物理地址的过程中，发现页面不存在，此时就会发生缺页中断。需要通过页面置换算法将硬盘中的信息置换到内存中

## 最佳置换算法 OPT

从主存中移出永远不再需要的页面；如无这样的页面存在，则选择最长时间不需要访问的页面。于所选择的被淘汰页面将是以后永不使用的，或者是在最长时间内不再被访问的页面，这样可以保证获得最低的缺页率。

## 先进先出置换算法 FIFO

是最简单的页面置换算法。这种算法的基本思想是：当需要淘汰一个页面时，总是选择驻留主存时间最长的页面进行淘汰，即先进入主存的页面先淘汰。其理由是：最早调入主存的页面不再被使用的可能性最大。 

## 最近最久未使用算法 LRU

这种算法的基本思想是：利用局部性原理，根据一个作业在执行过程中过去的页面访问历史来推测未来的行为。它认为过去一段时间里不曾被访问过的页面，在最近的将来可能也不会再被访问。所以，这种算法的实质是：==**当需要淘汰一个页面时，总是选择在最近一段时间内最久不用的页面予以淘汰。**==

> 除了LinkedHashMap还有什么办法实现LRU

方法1. 使用多个移位寄存器，每一个页都对应了多个移位寄存器。如果本时刻，这个页被访问了，那么移位寄存器的最高位置1. 每过一段时间，全部移位寄存器右移一位，高位补0. 某时刻LRU，就选值最小的那一个淘汰即可

![](https://gitee.com/super-jimwang/img/raw/master/img/20210315183512.png)

方法2. 利用栈。这个栈是特殊的，每次最新进来的页面都先从栈中取出，然后放在栈顶。当栈满了之后，还要往里加，就把栈底的置换出去
![](https://gitee.com/super-jimwang/img/raw/master/img/20210315184032.png)
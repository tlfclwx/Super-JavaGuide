# TCP 

![](https://gitee.com/super-jimwang/img/raw/master/img/20210315155434.png)
seq只是个序号 指我这个包的第一个字节是几号

ack是我希望下一个包的第一个字节是几号

==上图中，726丢包，服务端一直想要726的数据，每次都回复ack=726，表示希望要726.==

注意：
客户端：seq=726, ack=1449
服务端: seq=1449, ack=726
客户端: seq=726, ack=2897

==表明：客户端发给服务端的丢表了，服务端一直想要726开始的数据，而服务端给客户端发的没有丢包，客户端想要从1449开始的，服务端就给1449开始的。2897-1449这个长度就是服务端一次发送的数据长度。==

seq是数据包本身的序列号；ack是期望对方继续发送的那个数据包的序列号。

> TCP的头部

![](https://gitee.com/super-jimwang/img/raw/master/img/20210315212127.png)

> udp的头部

![](https://gitee.com/super-jimwang/img/raw/master/img/20210319212616.png)

> 为什么tcp头部没有长度，而udp有

因为tcp面向数据流，有一个窗口大小和序列号，所以不需要长度。而udp头部的长度其实是可以通过ip协议的头部长度信息计算获得的，这里属于冗余信息，主要为了凑齐32位。

> TCP的有序性标识是什么

==序号：包编号能解决乱序问题，表明先后顺序。也就是seq==
==确认序号：发出去的包应该有确认，如果没有收到就应该重新发送，直到送达。ack==

> TCP头部的紧急指针什么用

URG表明有紧急信息

然后通过这个可以计算出紧急字节号：
紧急数据字节号(urgSeq)=TCP报文序号(seq)+紧急指针(urgpoint)−1

